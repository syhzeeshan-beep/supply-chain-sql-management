<!DOCTYPE html>
<html>
<head>
    <title>Interactive Supply Chain Management</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }
        .tabs {
            display: flex;
            background: white;
            border-radius: 15px 15px 0 0;
            overflow: hidden;
            margin-bottom: 0;
        }
        .tab {
            padding: 15px 30px;
            cursor: pointer;
            background: #f8f9fa;
            border: none;
            flex: 1;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        .tab:hover {
            background: #e9ecef;
        }
        .tab.active {
            background: #3498db;
            color: white;
        }
        .tab-content {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 0 0 15px 15px;
            min-height: 500px;
        }
        .tab-content.active {
            display: block;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        .form-group input:focus, .form-group select:focus {
            border-color: #3498db;
            outline: none;
        }
        .btn {
            background: #3498db;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s ease;
        }
        .btn:hover {
            background: #2980b9;
        }
        .btn-success {
            background: #27ae60;
        }
        .btn-success:hover {
            background: #219a52;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        th {
            background: #3498db;
            color: white;
            padding: 15px;
            text-align: left;
        }
        td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .alert {
            background: #e74c3c;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            display: inline-block;
        }
        .good {
            background: #27ae60;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            display: inline-block;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
        }
        .btn-danger {
            background: #e74c3c;
        }
        .btn-danger:hover {
            background: #c0392b;
        }
        .order-item {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        .sql-badge {
            background: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè≠ Interactive Supply Chain Management</h1>
            <p>Using EXACT data from SQL Database - Real Business Scenario</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="openTab('dashboard')">üìä Dashboard</button>
            <button class="tab" onclick="openTab('products')">üì¶ Products</button>
            <button class="tab" onclick="openTab('inventory')">üè¨ Inventory</button>
            <button class="tab" onclick="openTab('orders')">üõí Orders</button>
            <button class="tab" onclick="openTab('suppliers')">üè¢ Suppliers</button>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Products</h3>
                    <div class="stat-number" id="totalProducts">0</div>
                    <p>From SQL Database</p>
                </div>
                <div class="stat-card">
                    <h3>Inventory Value</h3>
                    <div class="stat-number" id="totalValue">$0</div>
                    <p>Total Stock Worth</p>
                </div>
                <div class="stat-card">
                    <h3>Warehouses</h3>
                    <div class="stat-number" id="warehouseCount">0</div>
                    <p>Storage Locations</p>
                </div>
                <div class="stat-card">
                    <h3>Total Orders</h3>
                    <div class="stat-number" id="totalOrders">0</div>
                    <p>Customer Orders</p>
                </div>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h3>üö® Low Stock Alerts</h3>
                    <div id="lowStockAlerts"></div>
                </div>
                <div class="card">
                    <h3>üìã Recent Orders</h3>
                    <div id="recentOrders"></div>
                </div>
            </div>

            <div class="sql-badge">
                <h3>üíæ Powered by Real SQL Database Structure</h3>
                <p>This data matches exactly with our MySQL supply_chain_management database</p>
            </div>
        </div>

        <!-- Products Tab -->
        <div id="products" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h3>‚ûï Add New Product</h3>
                    <form id="productForm">
                        <div class="form-group">
                            <label>Product Name</label>
                            <input type="text" id="productName" required>
                        </div>
                        <div class="form-group">
                            <label>Category</label>
                            <select id="productCategory" required>
                                <option value="">Select Category</option>
                                <option value="Electronics">Electronics</option>
                                <option value="Raw Materials">Raw Materials</option>
                                <option value="Components">Components</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Unit Price ($)</label>
                            <input type="number" id="productPrice" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label>Supplier</label>
                            <select id="productSupplier" required>
                                <option value="">Select Supplier</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea id="productDescription" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn">Add Product</button>
                    </form>
                </div>
                <div class="card">
                    <h3>üì¶ Product List (From SQL)</h3>
                    <div id="productList"></div>
                </div>
            </div>
        </div>

        <!-- Inventory Tab -->
        <div id="inventory" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h3>üîÑ Update Inventory</h3>
                    <form id="inventoryForm">
                        <div class="form-group">
                            <label>Product</label>
                            <select id="inventoryProduct" required>
                                <option value="">Select Product</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Warehouse</label>
                            <select id="inventoryWarehouse" required>
                                <option value="">Select Warehouse</option>
                            <option value="1">West Coast Hub</option>
                                <option value="2">Central Distribution</option>
                                <option value="3">East Coast Storage</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Quantity Change</label>
                            <input type="number" id="inventoryQuantity" required>
                            <small>Positive number to add, negative to remove</small>
                        </div>
                        <button type="submit" class="btn">Update Inventory</button>
                    </form>
                </div>
                <div class="card">
                    <h3>üìä Current Inventory (From SQL)</h3>
                    <div id="inventoryList"></div>
                </div>
            </div>
        </div>

        <!-- Orders Tab -->
        <div id="orders" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h3>üõí Create New Order</h3>
                    <form id="orderForm">
                        <div class="form-group">
                            <label>Customer</label>
                            <select id="orderCustomer" required>
                                <option value="">Select Customer</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Product</label>
                            <select id="orderProduct" required>
                                <option value="">Select Product</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Quantity</label>
                            <input type="number" id="orderQuantity" min="1" required>
                        </div>
                        <button type="submit" class="btn btn-success">Create Order</button>
                    </form>
                </div>
                <div class="card">
                    <h3>üìã Order History (From SQL)</h3>
                    <div id="orderList"></div>
                </div>
            </div>
        </div>

        <!-- Suppliers Tab -->
        <div id="suppliers" class="tab-content">
            <div class="card">
                <h3>üè¢ Suppliers (From SQL Database)</h3>
                <div id="supplierList"></div>
            </div>
        </div>
    </div>

    <script>
        // EXACT DATA FROM OUR SQL DATABASE
        const sqlSuppliers = [
            { id: 1, name: "Global Electronics Inc", contact: "John Smith", phone: "+1-555-0101", email: "john@globalelectronics.com", address: "123 Tech Park, Silicon Valley, CA" },
            { id: 2, name: "Premium Raw Materials Co", contact: "Sarah Johnson", phone: "+1-555-0102", email: "sarah@premiummaterials.com", address: "456 Industrial Zone, Houston, TX" },
            { id: 3, name: "Fast Components Ltd", contact: "Mike Chen", phone: "+1-555-0103", email: "mike@fastcomponents.com", address: "789 Manufacturing District, Detroit, MI" }
        ];

        const sqlProducts = [
            { id: 1, name: "Laptop Pro", description: "High-performance business laptop", category: "Electronics", price: 1200.00, supplierId: 1 },
            { id: 2, name: "Smartphone X", description: "Latest smartphone model", category: "Electronics", price: 800.00, supplierId: 1 },
            { id: 3, name: "Aluminum Chassis", description: "Premium aluminum body for devices", category: "Raw Materials", price: 150.00, supplierId: 2 },
            { id: 4, name: "Battery Pack", description: "High-capacity lithium battery", category: "Components", price: 90.00, supplierId: 3 }
        ];

        const sqlWarehouses = [
            { id: 1, name: "West Coast Hub", location: "Los Angeles, CA", capacity: 100000 },
            { id: 2, name: "Central Distribution", location: "Dallas, TX", capacity: 150000 },
            { id: 3, name: "East Coast Storage", location: "New York, NY", capacity: 120000 }
        ];

        const sqlInventory = [
            { id: 1, productId: 1, warehouseId: 1, quantity: 50 },
            { id: 2, productId: 1, warehouseId: 2, quantity: 30 },
            { id: 3, productId: 2, warehouseId: 1, quantity: 100 },
            { id: 4, productId: 2, warehouseId: 3, quantity: 80 },
            { id: 5, productId: 3, warehouseId: 2, quantity: 200 },
            { id: 6, productId: 4, warehouseId: 3, quantity: 150 }
        ];

        const sqlCustomers = [
            { id: 1, name: "Tech World Retail", contact: "David Wilson", phone: "+1-555-0201", email: "david@techworld.com", address: "789 Market St, Seattle, WA", creditLimit: 50000.00 },
            { id: 2, name: "Corporate Solutions Inc", contact: "Lisa Garcia", phone: "+1-555-0202", email: "lisa@corporate-solutions.com", address: "456 Business Ave, Chicago, IL", creditLimit: 100000.00 },
            { id: 3, name: "Global Office Supplies", contact: "Robert Brown", phone: "+1-555-0203", email: "robert@globaloffice.com", address: "123 Commerce Rd, Boston, MA", creditLimit: 75000.00 }
        ];

        const sqlOrders = [
            { id: 1, customerId: 1, date: "2024-01-15", requiredDate: "2024-01-25", status: "Shipped", totalAmount: 2400.00 },
            { id: 2, customerId: 2, date: "2024-01-16", requiredDate: "2024-01-26", status: "Processing", totalAmount: 1600.00 },
            { id: 3, customerId: 3, date: "2024-01-17", requiredDate: "2024-01-27", status: "Pending", totalAmount: 450.00 }
        ];

        const sqlOrderItems = [
            { id: 1, orderId: 1, productId: 1, quantity: 2, unitPrice: 1200.00 },
            { id: 2, orderId: 1, productId: 2, quantity: 1, unitPrice: 800.00 },
            { id: 3, orderId: 2, productId: 1, quantity: 1, unitPrice: 1200.00 },
            { id: 4, orderId: 2, productId: 4, quantity: 4, unitPrice: 90.00 },
            { id: 5, orderId: 3, productId: 3, quantity: 3, unitPrice: 150.00 }
        ];

        // APPLICATION DATA (combining SQL data for frontend use)
        let products = JSON.parse(localStorage.getItem('products')) || [...sqlProducts];
        let suppliers = JSON.parse(localStorage.getItem('suppliers')) || [...sqlSuppliers];
        let warehouses = JSON.parse(localStorage.getItem('warehouses')) || [...sqlWarehouses];
        let inventory = JSON.parse(localStorage.getItem('inventory')) || [...sqlInventory];
        let customers = JSON.parse(localStorage.getItem('customers')) || [...sqlCustomers];
        let orders = JSON.parse(localStorage.getItem('orders')) || [...sqlOrders];
        let orderItems = JSON.parse(localStorage.getItem('orderItems')) || [...sqlOrderItems];

        // TAB MANAGEMENT
        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
            
            if (tabName === 'products') loadProducts();
            if (tabName === 'inventory') loadInventory();
            if (tabName === 'orders') loadOrders();
            if (tabName === 'suppliers') loadSuppliers();
            updateDashboard();
        }

        // PRODUCT MANAGEMENT
        document.getElementById('productForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newProduct = {
                id: products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1,
                name: document.getElementById('productName').value,
                category: document.getElementById('productCategory').value,
                price: parseFloat(document.getElementById('productPrice').value),
                supplierId: parseInt(document.getElementById('productSupplier').value),
                description: document.getElementById('productDescription').value
            };
            
            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            
            // Add default inventory
            warehouses.forEach(warehouse => {
                inventory.push({
                    id: inventory.length > 0 ? Math.max(...inventory.map(i => i.id)) + 1 : 1,
                    productId: newProduct.id,
                    warehouseId: warehouse.id,
                    quantity: 0
                });
            });
            localStorage.setItem('inventory', JSON.stringify(inventory));
            
            loadProducts();
            updateDashboard();
            this.reset();
            alert('Product added successfully!');
        });

        function loadProducts() {
            const productList = document.getElementById('productList');
            productList.innerHTML = products.map(product => {
                const supplier = suppliers.find(s => s.id === product.supplierId);
                return `
                    <div style="padding: 15px; border-bottom: 1px solid #eee;">
                        <strong>${product.name}</strong> (${product.category})<br>
                        <small>$${product.price} - ${product.description}</small><br>
                        <small>Supplier: ${supplier ? supplier.name : 'Unknown'}</small>
                        <div class="action-buttons">
                            <button class="btn btn-sm btn-danger" onclick="deleteProduct(${product.id})">Delete</button>
                        </div>
                    </div>
                `;
            }).join('');

            updateProductDropdowns();
            updateSupplierDropdown();
        }

        function deleteProduct(id) {
            products = products.filter(p => p.id !== id);
            inventory = inventory.filter(i => i.productId !== id);
            orderItems = orderItems.filter(oi => oi.productId !== id);
            
            localStorage.setItem('products', JSON.stringify(products));
            localStorage.setItem('inventory', JSON.stringify(inventory));
            localStorage.setItem('orderItems', JSON.stringify(orderItems));
            
            loadProducts();
            updateDashboard();
        }

        function updateProductDropdowns() {
            const productSelects = ['inventoryProduct', 'orderProduct'];
            productSelects.forEach(selectId => {
                const select = document.getElementById(selectId);
                select.innerHTML = '<option value="">Select Product</option>' + 
                    products.map(p => `<option value="${p.id}">${p.name} ($${p.price})</option>`).join('');
            });
        }

        function updateSupplierDropdown() {
            const supplierSelect = document.getElementById('productSupplier');
            supplierSelect.innerHTML = '<option value="">Select Supplier</option>' + 
                suppliers.map(s => `<option value="${s.id}">${s.name}</option>`).join('');
        }

        function updateCustomerDropdown() {
            const customerSelect = document.getElementById('orderCustomer');
            customerSelect.innerHTML = '<option value="">Select Customer</option>' + 
                customers.map(c => `<option value="${c.id}">${c.name}</option>`).join('');
        }

        // INVENTORY MANAGEMENT
        function loadInventory() {
            const inventoryList = document.getElementById('inventoryList');
            inventoryList.innerHTML = inventory.map(item => {
                const product = products.find(p => p.id === item.productId);
                const warehouse = warehouses.find(w => w.id === item.warehouseId);
                
                if (!product || !warehouse) return '';
                
                let statusClass = 'good';
                if (item.quantity < 20) statusClass = 'alert';
                
                return `
                    <div style="padding: 10px; border-bottom: 1px solid #eee;">
                        <strong>${product.name}</strong> at ${warehouse.name}<br>
                        <span class="${statusClass}">${item.quantity} units</span> - 
                        <strong>Value: $${(product.price * item.quantity).toLocaleString()}</strong><br>
                        <small>Location: ${warehouse.location}</small>
                    </div>
                `;
            }).join('');
        }

        document.getElementById('inventoryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const productId = parseInt(document.getElementById('inventoryProduct').value);
            const warehouseId = parseInt(document.getElementById('inventoryWarehouse').value);
            const quantity = parseInt(document.getElementById('inventoryQuantity').value);
            
            let existingItem = inventory.find(item => 
                item.productId === productId && item.warehouseId === warehouseId);
            
            if (existingItem) {
                existingItem.quantity += quantity;
                if (existingItem.quantity < 0) existingItem.quantity = 0;
            } else {
                inventory.push({
                    id: inventory.length > 0 ? Math.max(...inventory.map(i => i.id)) + 1 : 1,
                    productId: productId,
                    warehouseId: warehouseId,
                    quantity: Math.max(0, quantity)
                });
            }
            
            localStorage.setItem('inventory', JSON.stringify(inventory));
            loadInventory();
            updateDashboard();
            this.reset();
            alert('Inventory updated successfully!');
        });

        // ORDER MANAGEMENT
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const customerId = parseInt(document.getElementById('orderCustomer').value);
            const productId = parseInt(document.getElementById('orderProduct').value);
            const quantity = parseInt(document.getElementById('orderQuantity').value);
            
            const customer = customers.find(c => c.id === customerId);
            const product = products.find(p => p.id === productId);
            
            if (!customer || !product) {
                alert('Please select valid customer and product');
                return;
            }

            // Check inventory
            const totalInventory = inventory
                .filter(item => item.productId === productId)
                .reduce((sum, item) => sum + item.quantity, 0);
                
            if (totalInventory < quantity) {
                alert(`Not enough inventory! Only ${totalInventory} units available.`);
                return;
            }

            const newOrder = {
                id: orders.length > 0 ? Math.max(...orders.map(o => o.id)) + 1 : 1,
                customerId: customerId,
                date: new Date().toISOString().split('T')[0],
                requiredDate: new Date(Date.now() + 10 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                status: 'Pending',
                totalAmount: product.price * quantity
            };

            const newOrderItem = {
                id: orderItems.length > 0 ? Math.max(...orderItems.map(oi => oi.id)) + 1 : 1,
                orderId: newOrder.id,
                productId: productId,
                quantity: quantity,
                unitPrice: product.price
            };

            // Deduct from inventory (simple - from first available warehouse)
            let remaining = quantity;
            for (let item of inventory.filter(i => i.productId === productId).sort((a, b) => b.quantity - a.quantity)) {
                if (remaining <= 0) break;
                const deduct = Math.min(item.quantity, remaining);
                item.quantity -= deduct;
                remaining -= deduct;
            }

            orders.push(newOrder);
            orderItems.push(newOrderItem);
            
            localStorage.setItem('orders', JSON.stringify(orders));
            localStorage.setItem('orderItems', JSON.stringify(orderItems));
            localStorage.setItem('inventory', JSON.stringify(inventory));
            
            loadOrders();
            updateDashboard();
            this.reset();
            alert('Order created successfully!');
        });

        function loadOrders() {
            const orderList = document.getElementById('orderList');
            orderList.innerHTML = orders.map(order => {
                const customer = customers.find(c => c.id === order.customerId);
                const items = orderItems.filter(oi => oi.orderId === order.id);
                
                let itemsHtml = '';
                items.forEach(item => {
                    const product = products.find(p => p.id === item.productId);
                    if (product) {
                        itemsHtml += `<div>${product.name} x ${item.quantity} = $${item.unitPrice * item.quantity}</div>`;
                    }
                });

                return `
                    <div class="order-item">
                        <strong>Order #${order.id}</strong> - ${customer ? customer.name : 'Unknown Customer'}<br>
                        ${itemsHtml}
                        <strong>Total: $${order.totalAmount}</strong><br>
                        <strong>Status:</strong> <span class="${order.status === 'Pending' ? 'alert' : 'good'}">${order.status}</span><br>
                        <strong>Order Date:</strong> ${order.date}<br>
                        <strong>Required By:</strong> ${order.requiredDate}
                    </div>
                `;
            }).join('') || '<p>No orders yet</p>';
        }

        // SUPPLIERS MANAGEMENT
        function loadSuppliers() {
            const supplierList = document.getElementById('supplierList');
            supplierList.innerHTML = suppliers.map(supplier => {
                const supplierProducts = products.filter(p => p.supplierId === supplier.id);
                return `
                    <div style="padding: 15px; border-bottom: 1px solid #eee; margin-bottom: 15px;">
                        <h4>${supplier.name}</h4>
                        <p><strong>Contact:</strong> ${supplier.contact}</p>
                        <p><strong>Phone:</strong> ${supplier.phone}</p>
                        <p><strong>Email:</strong> ${supplier.email}</p>
                        <p><strong>Address:</strong> ${supplier.address}</p>
                        <p><strong>Products Supplied:</strong> ${supplierProducts.length} items</p>
                        <div>
                            ${supplierProducts.map(p => `<span style="background: #3498db; color: white; padding: 2px 8px; border-radius: 10px; margin: 2px; display: inline-block;">${p.name}</span>`).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // DASHBOARD UPDATES
        function updateDashboard() {
            document.getElementById('totalProducts').textContent = products.length;
            
            const totalValue = inventory.reduce((sum, item) => {
                const product = products.find(p => p.id === item.productId);
                return sum + (product ? product.price * item.quantity : 0);
            }, 0);
            document.getElementById('totalValue').textContent = '$' + totalValue.toLocaleString();
            
            document.getElementById('warehouseCount').textContent = warehouses.length;
            document.getElementById('totalOrders').textContent = orders.length;
            
            // Low stock alerts
            const lowStockAlerts = document.getElementById('lowStockAlerts');
            const lowStockItems = inventory.filter(item => item.quantity < 20);
            lowStockAlerts.innerHTML = lowStockItems.map(item => {
                const product = products.find(p => p.id === item.productId);
                const warehouse = warehouses.find(w => w.id === item.warehouseId);
                return product && warehouse ? `
                    <div style="padding: 10px; border-bottom: 1px solid #eee;">
                        <strong>${product.name}</strong> at ${warehouse.name}<br>
                        <span class="alert">Only ${item.quantity} units left!</span>
                    </div>
                ` : '';
            }).join('') || '<p>No low stock alerts üéâ</p>';

            // Recent orders
            const recentOrders = document.getElementById('recentOrders');
            const recentOrdersList = orders.slice(-3).reverse();
            recentOrders.innerHTML = recentOrdersList.map(order => {
                const customer = customers.find(c => c.id === order.customerId);
                return `
                    <div style="padding: 10px; border-bottom: 1px solid #eee;">
                        <strong>Order #${order.id}</strong><br>
                        <small>Customer: ${customer ? customer.name : 'Unknown'}</small><br>
                        <small>Total: $${order.totalAmount}</small><br>
                        <span class="${order.status === 'Pending' ? 'alert' : 'good'}">${order.status}</span>
                    </div>
                `;
            }).join('') || '<p>No recent orders</p>';
        }

        // INITIALIZE
        function initialize() {
            loadProducts();
            loadInventory();
            loadOrders();
            loadSuppliers();
            updateCustomerDropdown();
            updateDashboard();
        }

        // Start the application
        initialize();
    </script>
</body>
</html>
