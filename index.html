<!DOCTYPE html>
<html>
<head>
    <title>Interactive Supply Chain Management</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }
        .tabs {
            display: flex;
            background: white;
            border-radius: 15px 15px 0 0;
            overflow: hidden;
            margin-bottom: 0;
        }
        .tab {
            padding: 15px 30px;
            cursor: pointer;
            background: #f8f9fa;
            border: none;
            flex: 1;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        .tab:hover {
            background: #e9ecef;
        }
        .tab.active {
            background: #3498db;
            color: white;
        }
        .tab-content {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 0 0 15px 15px;
            min-height: 500px;
        }
        .tab-content.active {
            display: block;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        .form-group input:focus, .form-group select:focus {
            border-color: #3498db;
            outline: none;
        }
        .btn {
            background: #3498db;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s ease;
        }
        .btn:hover {
            background: #2980b9;
        }
        .btn-success {
            background: #27ae60;
        }
        .btn-success:hover {
            background: #219a52;
        }
        .btn-warning {
            background: #f39c12;
        }
        .btn-warning:hover {
            background: #e67e22;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        th {
            background: #3498db;
            color: white;
            padding: 15px;
            text-align: left;
        }
        td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .alert {
            background: #e74c3c;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            display: inline-block;
        }
        .good {
            background: #27ae60;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            display: inline-block;
        }
        .warning {
            background: #f39c12;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            display: inline-block;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
        }
        .btn-danger {
            background: #e74c3c;
        }
        .btn-danger:hover {
            background: #c0392b;
        }
        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }
        .order-item {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        .status-pending { border-left-color: #f39c12; }
        .status-processing { border-left-color: #3498db; }
        .status-shipped { border-left-color: #27ae60; }
        .status-delivered { border-left-color: #2ecc71; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè≠ Interactive Supply Chain Management</h1>
            <p>Add, Manage, and Analyze Your Supply Chain Data in Real-Time</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="openTab('dashboard')">üìä Dashboard</button>
            <button class="tab" onclick="openTab('products')">üì¶ Products</button>
            <button class="tab" onclick="openTab('inventory')">üè¨ Inventory</button>
            <button class="tab" onclick="openTab('orders')">üõí Orders</button>
            <button class="tab" onclick="openTab('analytics')">üìà Analytics</button>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Products</h3>
                    <div class="stat-number" id="totalProducts">0</div>
                    <p>Active Items</p>
                </div>
                <div class="stat-card">
                    <h3>Inventory Value</h3>
                    <div class="stat-number" id="totalValue">$0</div>
                    <p>Total Stock Worth</p>
                </div>
                <div class="stat-card">
                    <h3>Low Stock Items</h3>
                    <div class="stat-number" id="lowStockCount">0</div>
                    <p>Need Reordering</p>
                </div>
                <div class="stat-card">
                    <h3>Total Orders</h3>
                    <div class="stat-number" id="totalOrders">0</div>
                    <p>This Month</p>
                </div>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h3>üö® Low Stock Alerts</h3>
                    <div id="lowStockAlerts"></div>
                </div>
                <div class="card">
                    <h3>üìã Recent Orders</h3>
                    <div id="recentOrders"></div>
                </div>
            </div>

            <div class="card">
                <h3>üìä Quick Actions</h3>
                <div class="action-buttons">
                    <button class="btn" onclick="openTab('products')">Add New Product</button>
                    <button class="btn" onclick="openTab('inventory')">Update Inventory</button>
                    <button class="btn" onclick="openTab('orders')">Create Order</button>
                    <button class="btn btn-success" onclick="generateReport()">Generate Report</button>
                </div>
            </div>
        </div>

        <!-- Products Tab -->
        <div id="products" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h3>‚ûï Add New Product</h3>
                    <form id="productForm">
                        <div class="form-group">
                            <label>Product Name</label>
                            <input type="text" id="productName" required>
                        </div>
                        <div class="form-group">
                            <label>Category</label>
                            <select id="productCategory" required>
                                <option value="">Select Category</option>
                                <option value="Electronics">Electronics</option>
                                <option value="Raw Materials">Raw Materials</option>
                                <option value="Components">Components</option>
                                <option value="Finished Goods">Finished Goods</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Unit Price ($)</label>
                            <input type="number" id="productPrice" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea id="productDescription" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn">Add Product</button>
                    </form>
                </div>
                <div class="card">
                    <h3>üì¶ Product List</h3>
                    <div id="productList"></div>
                </div>
            </div>
        </div>

        <!-- Inventory Tab -->
        <div id="inventory" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h3>üîÑ Update Inventory</h3>
                    <form id="inventoryForm">
                        <div class="form-group">
                            <label>Product</label>
                            <select id="inventoryProduct" required>
                                <option value="">Select Product</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Warehouse</label>
                            <select id="inventoryWarehouse" required>
                                <option value="West Coast Hub">West Coast Hub</option>
                                <option value="Central Distribution">Central Distribution</option>
                                <option value="East Coast Storage">East Coast Storage</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Quantity Change</label>
                            <input type="number" id="inventoryQuantity" required>
                            <small>Positive number to add, negative to remove</small>
                        </div>
                        <button type="submit" class="btn">Update Inventory</button>
                    </form>
                </div>
                <div class="card">
                    <h3>üìä Current Inventory</h3>
                    <div id="inventoryList"></div>
                </div>
            </div>
        </div>

        <!-- Orders Tab -->
        <div id="orders" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h3>üõí Create New Order</h3>
                    <form id="orderForm">
                        <div class="form-group">
                            <label>Customer Name</label>
                            <input type="text" id="customerName" required>
                        </div>
                        <div class="form-group">
                            <label>Product</label>
                            <select id="orderProduct" required>
                                <option value="">Select Product</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Quantity</label>
                            <input type="number" id="orderQuantity" min="1" required>
                        </div>
                        <div class="form-group">
                            <label>Status</label>
                            <select id="orderStatus" required>
                                <option value="pending">Pending</option>
                                <option value="processing">Processing</option>
                                <option value="shipped">Shipped</option>
                                <option value="delivered">Delivered</option>
                            </select>
                        </div>
                        <button type="submit" class="btn">Create Order</button>
                    </form>
                </div>
                <div class="card">
                    <h3>üìã Order History</h3>
                    <div id="orderList"></div>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics" class="tab-content">
            <div class="grid-3">
                <div class="card">
                    <h3>üì¶ Products by Category</h3>
                    <div class="chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3>üí∞ Inventory Value</h3>
                    <div class="chart-container">
                        <canvas id="valueChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3>üìä Stock Distribution</h3>
                    <div class="chart-container">
                        <canvas id="stockChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="card">
                <h3>üìà Business Insights</h3>
                <div id="businessInsights"></div>
            </div>
        </div>
    </div>

    <script>
        // Sample initial data
        let products = JSON.parse(localStorage.getItem('products')) || [
            { id: 1, name: "Laptop Pro", category: "Electronics", price: 1200, description: "High-performance business laptop" },
            { id: 2, name: "Smartphone X", category: "Electronics", price: 800, description: "Latest smartphone model" },
            { id: 3, name: "Aluminum Chassis", category: "Raw Materials", price: 150, description: "Premium aluminum body" },
            { id: 4, name: "Battery Pack", category: "Components", price: 90, description: "High-capacity lithium battery" }
        ];

        let inventory = JSON.parse(localStorage.getItem('inventory')) || [
            { productId: 1, warehouse: "West Coast Hub", quantity: 50 },
            { productId: 1, warehouse: "Central Distribution", quantity: 30 },
            { productId: 2, warehouse: "West Coast Hub", quantity: 100 },
            { productId: 2, warehouse: "East Coast Storage", quantity: 80 },
            { productId: 3, warehouse: "Central Distribution", quantity: 200 },
            { productId: 4, warehouse: "East Coast Storage", quantity: 150 }
        ];

        let orders = JSON.parse(localStorage.getItem('orders')) || [
            { id: 1, customerName: "Tech World Retail", productId: 1, quantity: 2, status: "shipped", date: "2024-01-15", total: 2400 },
            { id: 2, customerName: "Corporate Solutions", productId: 1, quantity: 1, status: "processing", date: "2024-01-16", total: 1200 },
            { id: 3, customerName: "Global Office", productId: 3, quantity: 3, status: "pending", date: "2024-01-17", total: 450 }
        ];

        // Chart instances
        let categoryChart, valueChart, stockChart;

        // Tab management
        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
            
            // Refresh data when tab opens
            if (tabName === 'products') loadProducts();
            if (tabName === 'inventory') loadInventory();
            if (tabName === 'orders') loadOrders();
            if (tabName === 'analytics') loadAnalytics();
            updateDashboard();
        }

        // Product Management
        document.getElementById('productForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const newProduct = {
                id: products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1,
                name: document.getElementById('productName').value,
                category: document.getElementById('productCategory').value,
                price: parseFloat(document.getElementById('productPrice').value),
                description: document.getElementById('productDescription').value
            };
            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            loadProducts();
            updateDashboard();
            this.reset();
            alert('Product added successfully!');
        });

        function loadProducts() {
            const productList = document.getElementById('productList');
            productList.innerHTML = products.map(product => `
                <div style="padding: 15px; border-bottom: 1px solid #eee;">
                    <strong>${product.name}</strong> (${product.category})<br>
                    <small>$${product.price} - ${product.description}</small>
                    <div class="action-buttons">
                        <button class="btn btn-sm btn-danger" onclick="deleteProduct(${product.id})">Delete</button>
                    </div>
                </div>
            `).join('');

            // Update product dropdowns
            updateProductDropdowns();
        }

        function deleteProduct(id) {
            products = products.filter(p => p.id !== id);
            localStorage.setItem('products', JSON.stringify(products));
            loadProducts();
            updateDashboard();
        }

        function updateProductDropdowns() {
            const productSelects = ['inventoryProduct', 'orderProduct'];
            productSelects.forEach(selectId => {
                const select = document.getElementById(selectId);
                select.innerHTML = '<option value="">Select Product</option>' + 
                    products.map(p => `<option value="${p.id}">${p.name} ($${p.price})</option>`).join('');
            });
        }

        // Inventory Management
        function loadInventory() {
            // Display current inventory
            const inventoryList = document.getElementById('inventoryList');
            inventoryList.innerHTML = inventory.map(item => {
                const product = products.find(p => p.id === item.productId);
                let statusClass = 'good';
                if (item.quantity < 20) statusClass = 'alert';
                else if (item.quantity < 50) statusClass = 'warning';
                
                return product ? `
                    <div style="padding: 10px; border-bottom: 1px solid #eee;">
                        <strong>${product.name}</strong> at ${item.warehouse}<br>
                        <span class="${statusClass}">${item.quantity} units</span> - 
                        <strong>$${(product.price * item.quantity).toLocaleString()}</strong>
                    </div>
                ` : '';
            }).join('');
        }

        document.getElementById('inventoryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const productId = parseInt(document.getElementById('inventoryProduct').value);
            const warehouse = document.getElementById('inventoryWarehouse').value;
            const quantity = parseInt(document.getElementById('inventoryQuantity').value);
            
            let existingItem = inventory.find(item => 
                item.productId === productId && item.warehouse === warehouse);
            
            if (existingItem) {
                existingItem.quantity += quantity;
                if (existingItem.quantity < 0) existingItem.quantity = 0;
            } else {
                inventory.push({ productId, warehouse, quantity: Math.max(0, quantity) });
            }
            
            localStorage.setItem('inventory', JSON.stringify(inventory));
            loadInventory();
            updateDashboard();
            this.reset();
            alert('Inventory updated successfully!');
        });

        // Orders Management
        function loadOrders() {
            const orderList = document.getElementById('orderList');
            orderList.innerHTML = orders.map(order => {
                const product = products.find(p => p.id === order.productId);
                const statusClass = `status-${order.status}`;
                return product ? `
                    <div class="order-item ${statusClass}">
                        <strong>Order #${order.id}</strong> - ${order.customerName}<br>
                        <strong>${product.name}</strong> x ${order.quantity}<br>
                        <span class="good">Total: $${order.total}</span><br>
                        <small>Status: <span class="${order.status === 'pending' ? 'warning' : order.status === 'shipped' ? 'good' : 'good'}">${order.status.toUpperCase()}</span></small><br>
                        <small>Date: ${order.date}</small>
                        <div class="action-buttons">
                            <button class="btn btn-sm btn-warning" onclick="updateOrderStatus(${order.id}, 'processing')">Process</button>
                            <button class="btn btn-sm btn-success" onclick="updateOrderStatus(${order.id}, 'shipped')">Ship</button>
                            <button class="btn btn-sm btn-danger" onclick="deleteOrder(${order.id})">Cancel</button>
                        </div>
                    </div>
                ` : '';
            }).join('');
        }

        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const productId = parseInt(document.getElementById('orderProduct').value);
            const product = products.find(p => p.id === productId);
            
            const newOrder = {
                id: orders.length > 0 ? Math.max(...orders.map(o => o.id)) + 1 : 1,
                customerName: document.getElementById('customerName').value,
                productId: productId,
                quantity: parseInt(document.getElementById('orderQuantity').value),
                status: document.getElementById('orderStatus').value,
                date: new Date().toISOString().split('T')[0],
                total: product ? product.price * parseInt(document.getElementById('orderQuantity').value) : 0
            };
            
            orders.push(newOrder);
            localStorage.setItem('orders', JSON.stringify(orders));
            loadOrders();
            updateDashboard();
            this.reset();
            alert('Order created successfully!');
        });

        function updateOrderStatus(orderId, newStatus) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.status = newStatus;
                localStorage.setItem('orders', JSON.stringify(orders));
                loadOrders();
                updateDashboard();
            }
        }

        function deleteOrder(orderId) {
            orders = orders.filter(o => o.id !== orderId);
            localStorage.setItem('orders', JSON.stringify(orders));
            loadOrders();
            updateDashboard();
        }

        // Analytics
        function loadAnalytics() {
            updateCharts();
            updateBusinessInsights();
        }

        function updateCharts() {
            // Category Distribution Chart
            const categoryCounts = {};
            products.forEach(product => {
                categoryCounts[product.category] = (categoryCounts[product.category] || 0) + 1;
            });

            if (categoryChart) categoryChart.destroy();
            const categoryCtx = document.getElementById('categoryChart').getContext('2d');
            categoryChart = new Chart(categoryCtx, {
                type: 'pie',
                data: {
                    labels: Object.keys(categoryCounts),
                    datasets: [{
                        data: Object.values(categoryCounts),
                        backgroundColor: ['#3498db', '#e74c3c', '#2ecc71', '#f39c12', '#9b59b6']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });

            // Inventory Value Chart
            const warehouseValues = {};
            inventory.forEach(item => {
                const product = products.find(p => p.id === item.productId);
                if (product) {
                    warehouseValues[item.warehouse] = (warehouseValues[item.warehouse] || 0) + (product.price * item.quantity);
                }
            });

            if (valueChart) valueChart.destroy();
            const valueCtx = document.getElementById('valueChart').getContext('2d');
            valueChart = new Chart(valueCtx, {
                type: 'bar',
                data: {
                    labels: Object.keys(warehouseValues),
                    datasets: [{
                        label: 'Inventory Value ($)',
                        data: Object.values(warehouseValues),
                        backgroundColor: '#3498db'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });

            // Stock Distribution Chart
            const productStocks = {};
            products.forEach(product => {
                const totalStock = inventory
                    .filter(item => item.productId === product.id)
                    .reduce((sum, item) => sum + item.quantity, 0);
                productStocks[product.name] = totalStock;
            });

            if (stockChart) stockChart.destroy();
            const stockCtx = document.getElementById('stockChart').getContext('2d');
            stockChart = new Chart(stockCtx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(productStocks),
                    datasets: [{
                        data: Object.values(productStocks),
                        backgroundColor: ['#3498db', '#e74c3c', '#2ecc71', '#f39c12']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }

        function updateBusinessInsights() {
            const insights = document.getElementById('businessInsights');
            const totalInventoryValue = inventory.reduce((sum, item) => {
                const product = products.find(p => p.id === item.productId);
                return sum + (product ? product.price * item.quantity : 0);
            }, 0);

            const lowStockItems = inventory.filter(item => item.quantity < 20).length;
            const totalRevenue = orders.reduce((sum, order) => sum + order.total, 0);

            insights.innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Business Value</h3>
                        <div class="stat-number">$${totalInventoryValue.toLocaleString()}</div>
                        <p>Inventory + Revenue</p>
                    </div>
                    <div class="stat-card">
                        <h3>Order Success Rate</h3>
                        <div class="stat-number">${orders.length > 0 ? Math.round((orders.filter(o => o.status === 'shipped' || o.status === 'delivered').length / orders.length) * 100) : 0}%</div>
                        <p>Orders Delivered</p>
                    </div>
                    <div class="stat-card">
                        <h3>Inventory Health</h3>
                        <div class="stat-number">${lowStockItems === 0 ? 'Excellent' : 'Needs Attention'}</div>
                        <p>${lowStockItems} items low</p>
                    </div>
                </div>
                <div style="margin-top: 20px;">
                    <h4>üìã Key Recommendations:</h4>
                    <ul>
                        <li>${lowStockItems > 0 ? `Reorder ${lowStockItems} low-stock items immediately` : 'Inventory levels are healthy'}</li>
                        <li>${totalRevenue > 5000 ? 'Consider expanding product line' : 'Focus on marketing to increase orders'}</li>
                        <li>Monitor warehouse capacity for optimal distribution</li>
                    </ul>
                </div>
            `;
        }

        // Dashboard Updates
        function updateDashboard() {
            document.getElementById('totalProducts').textContent = products.length;
            
            const totalValue = inventory.reduce((sum, item) => {
                const product = products.find(p => p.id === item.productId);
                return sum + (product ? product.price * item.quantity : 0);
            }, 0);
            document.getElementById('totalValue').textContent = '$' + totalValue.toLocaleString();
            
            const lowStockCount = inventory.filter(item => item.quantity < 20).length;
            document.getElementById('lowStockCount').textContent = lowStockCount;
            
            document.getElementById('totalOrders').textContent = orders.length;
            
            // Low stock alerts
            const lowStockAlerts = document.getElementById('lowStockAlerts');
            const lowStockItems = inventory.filter(item => item.quantity < 20);
            lowStockAlerts.innerHTML = lowStockItems.map(item => {
                const product = products.find(p => p.id === item.productId);
                return product ? `
                    <div style="padding: 10px; border-bottom: 1px solid #eee;">
                        <strong>${product.name}</strong> at ${item.warehouse}<br>
                        <span class="alert">Only ${item.quantity} units left!</span>
                    </div>
                ` : '';
            }).join('') || '<p>No low stock alerts üéâ</p>';

            // Recent orders
            const recentOrders = document.getElementById('recentOrders');
            const recentOrdersList = orders.slice(-3).reverse();
            recentOrders.innerHTML = recentOrdersList.map(order => {
                const product = products.find(p => p.id === order.productId);
                return product ? `
                    <div style="padding: 10px; border-bottom: 1px solid #eee;">
                        <strong>${order.customerName}</strong><br>
                        <small>${product.name} x ${order.quantity}</small><br>
                        <span class="${order.status === 'pending' ? 'warning' : 'good'}">${order.status}</span>
                    </div>
                ` : '';
            }).join('') || '<p>No recent orders</p>';
        }

        function generateReport() {
            const reportData = {
                products: products,
                inventory: inventory,
                orders: orders,
                generated: new Date().toISOString()
            };
            
            const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(reportData, null, 2));
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataStr);
            downloadAnchorNode.setAttribute("download", "supply_chain_report.json");
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
            
            alert('Report downloaded as JSON file!');
        }

        // Initialize
        loadProducts();
        loadInventory();
        loadOrders();
        updateDashboard();
        updateProductDropdowns();
    </script>
</body>
</html>
