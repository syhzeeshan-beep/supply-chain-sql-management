<!DOCTYPE html>
<html>
<head>
    <title>Interactive Supply Chain Management</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }
        .tabs {
            display: flex;
            background: white;
            border-radius: 15px 15px 0 0;
            overflow: hidden;
            margin-bottom: 0;
        }
        .tab {
            padding: 15px 30px;
            cursor: pointer;
            background: #f8f9fa;
            border: none;
            flex: 1;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        .tab:hover {
            background: #e9ecef;
        }
        .tab.active {
            background: #3498db;
            color: white;
        }
        .tab-content {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 0 0 15px 15px;
            min-height: 500px;
        }
        .tab-content.active {
            display: block;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        .form-group input:focus, .form-group select:focus {
            border-color: #3498db;
            outline: none;
        }
        .btn {
            background: #3498db;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s ease;
        }
        .btn:hover {
            background: #2980b9;
        }
        .btn-success {
            background: #27ae60;
        }
        .btn-success:hover {
            background: #219a52;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        th {
            background: #3498db;
            color: white;
            padding: 15px;
            text-align: left;
        }
        td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .alert {
            background: #e74c3c;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            display: inline-block;
        }
        .good {
            background: #27ae60;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            display: inline-block;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
        }
        .btn-danger {
            background: #e74c3c;
        }
        .btn-danger:hover {
            background: #c0392b;
        }
        .order-item {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè≠ Interactive Supply Chain Management</h1>
            <p>Add, Manage, and Analyze Your Supply Chain Data in Real-Time</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="openTab('dashboard')">üìä Dashboard</button>
            <button class="tab" onclick="openTab('products')">üì¶ Products</button>
            <button class="tab" onclick="openTab('inventory')">üè¨ Inventory</button>
            <button class="tab" onclick="openTab('orders')">üõí Orders</button>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Products</h3>
                    <div class="stat-number" id="totalProducts">0</div>
                    <p>Active Items</p>
                </div>
                <div class="stat-card">
                    <h3>Inventory Value</h3>
                    <div class="stat-number" id="totalValue">$0</div>
                    <p>Total Stock Worth</p>
                </div>
                <div class="stat-card">
                    <h3>Low Stock Items</h3>
                    <div class="stat-number" id="lowStockCount">0</div>
                    <p>Need Reordering</p>
                </div>
                <div class="stat-card">
                    <h3>Total Orders</h3>
                    <div class="stat-number" id="totalOrders">0</div>
                    <p>This Month</p>
                </div>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h3>üö® Low Stock Alerts</h3>
                    <div id="lowStockAlerts"></div>
                </div>
                <div class="card">
                    <h3>üìã Recent Orders</h3>
                    <div id="recentOrders"></div>
                </div>
            </div>
        </div>

        <!-- Products Tab -->
        <div id="products" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h3>‚ûï Add New Product</h3>
                    <form id="productForm">
                        <div class="form-group">
                            <label>Product Name</label>
                            <input type="text" id="productName" required>
                        </div>
                        <div class="form-group">
                            <label>Category</label>
                            <select id="productCategory" required>
                                <option value="">Select Category</option>
                                <option value="Electronics">Electronics</option>
                                <option value="Raw Materials">Raw Materials</option>
                                <option value="Components">Components</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Unit Price ($)</label>
                            <input type="number" id="productPrice" step="0.01" required>
                        </div>
                        <button type="submit" class="btn">Add Product</button>
                    </form>
                </div>
                <div class="card">
                    <h3>üì¶ Product List</h3>
                    <div id="productList"></div>
                </div>
            </div>
        </div>

        <!-- Inventory Tab -->
        <div id="inventory" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h3>üîÑ Update Inventory</h3>
                    <form id="inventoryForm">
                        <div class="form-group">
                            <label>Product</label>
                            <select id="inventoryProduct" required>
                                <option value="">Select Product</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Quantity Change</label>
                            <input type="number" id="inventoryQuantity" required>
                            <small>Positive number to add, negative to remove</small>
                        </div>
                        <button type="submit" class="btn">Update Inventory</button>
                    </form>
                </div>
                <div class="card">
                    <h3>üìä Current Inventory</h3>
                    <div id="inventoryList"></div>
                </div>
            </div>
        </div>

        <!-- Orders Tab - SIMPLIFIED VERSION -->
        <div id="orders" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h3>üõí Create New Order</h3>
                    <form id="orderForm">
                        <div class="form-group">
                            <label>Customer Name</label>
                            <input type="text" id="customerName" required placeholder="Enter customer name">
                        </div>
                        <div class="form-group">
                            <label>Product</label>
                            <select id="orderProduct" required>
                                <option value="">Select Product</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Quantity</label>
                            <input type="number" id="orderQuantity" min="1" required placeholder="Enter quantity">
                        </div>
                        <button type="submit" class="btn btn-success">Create Order</button>
                    </form>
                </div>
                <div class="card">
                    <h3>üìã Order History</h3>
                    <div id="orderList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // SIMPLE DATA STORAGE
        let products = JSON.parse(localStorage.getItem('products')) || [
            { id: 1, name: "Laptop Pro", category: "Electronics", price: 1200 },
            { id: 2, name: "Smartphone X", category: "Electronics", price: 800 }
        ];

        let inventory = JSON.parse(localStorage.getItem('inventory')) || [
            { productId: 1, quantity: 50 },
            { productId: 2, quantity: 100 }
        ];

        let orders = JSON.parse(localStorage.getItem('orders')) || [];

        // TAB MANAGEMENT
        function openTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
            
            // Refresh data
            if (tabName === 'products') loadProducts();
            if (tabName === 'inventory') loadInventory();
            if (tabName === 'orders') loadOrders();
            updateDashboard();
        }

        // PRODUCT MANAGEMENT
        document.getElementById('productForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newProduct = {
                id: Date.now(), // Simple ID generation
                name: document.getElementById('productName').value,
                category: document.getElementById('productCategory').value,
                price: parseFloat(document.getElementById('productPrice').value)
            };
            
            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            
            // Also add to inventory
            inventory.push({ productId: newProduct.id, quantity: 0 });
            localStorage.setItem('inventory', JSON.stringify(inventory));
            
            loadProducts();
            updateDashboard();
            this.reset();
            alert('Product added successfully!');
        });

        function loadProducts() {
            const productList = document.getElementById('productList');
            productList.innerHTML = products.map(product => `
                <div style="padding: 15px; border-bottom: 1px solid #eee;">
                    <strong>${product.name}</strong> (${product.category})<br>
                    <small>$${product.price}</small>
                    <div class="action-buttons">
                        <button class="btn btn-sm btn-danger" onclick="deleteProduct(${product.id})">Delete</button>
                    </div>
                </div>
            `).join('');

            updateProductDropdowns();
        }

        function deleteProduct(id) {
            products = products.filter(p => p.id !== id);
            inventory = inventory.filter(i => i.productId !== id);
            localStorage.setItem('products', JSON.stringify(products));
            localStorage.setItem('inventory', JSON.stringify(inventory));
            loadProducts();
            updateDashboard();
        }

        function updateProductDropdowns() {
            // Update inventory product dropdown
            const inventorySelect = document.getElementById('inventoryProduct');
            inventorySelect.innerHTML = '<option value="">Select Product</option>' + 
                products.map(p => `<option value="${p.id}">${p.name}</option>`).join('');
            
            // Update order product dropdown
            const orderSelect = document.getElementById('orderProduct');
            orderSelect.innerHTML = '<option value="">Select Product</option>' + 
                products.map(p => `<option value="${p.id}">${p.name} ($${p.price})</option>`).join('');
        }

        // INVENTORY MANAGEMENT
        function loadInventory() {
            const inventoryList = document.getElementById('inventoryList');
            inventoryList.innerHTML = inventory.map(item => {
                const product = products.find(p => p.id === item.productId);
                return product ? `
                    <div style="padding: 10px; border-bottom: 1px solid #eee;">
                        <strong>${product.name}</strong><br>
                        <span class="${item.quantity < 20 ? 'alert' : 'good'}">${item.quantity} units</span>
                    </div>
                ` : '';
            }).join('');
        }

        document.getElementById('inventoryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const productId = parseInt(document.getElementById('inventoryProduct').value);
            const quantity = parseInt(document.getElementById('inventoryQuantity').value);
            
            let item = inventory.find(i => i.productId === productId);
            if (item) {
                item.quantity += quantity;
                if (item.quantity < 0) item.quantity = 0;
            }
            
            localStorage.setItem('inventory', JSON.stringify(inventory));
            loadInventory();
            updateDashboard();
            this.reset();
            alert('Inventory updated successfully!');
        });

        // ORDER MANAGEMENT - SIMPLIFIED
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const productId = parseInt(document.getElementById('orderProduct').value);
            const product = products.find(p => p.id === productId);
            
            if (!product) {
                alert('Please select a valid product');
                return;
            }

            const newOrder = {
                id: Date.now(),
                customerName: document.getElementById('customerName').value,
                productId: productId,
                productName: product.name,
                quantity: parseInt(document.getElementById('orderQuantity').value),
                total: product.price * parseInt(document.getElementById('orderQuantity').value),
                date: new Date().toLocaleDateString(),
                status: 'Pending'
            };
            
            // Check if we have enough inventory
            const inventoryItem = inventory.find(i => i.productId === productId);
            if (!inventoryItem || inventoryItem.quantity < newOrder.quantity) {
                alert('Not enough inventory to fulfill this order!');
                return;
            }
            
            // Deduct from inventory
            inventoryItem.quantity -= newOrder.quantity;
            
            orders.push(newOrder);
            localStorage.setItem('orders', JSON.stringify(orders));
            localStorage.setItem('inventory', JSON.stringify(inventory));
            
            loadOrders();
            updateDashboard();
            this.reset();
            alert('Order created successfully!');
        });

        function loadOrders() {
            const orderList = document.getElementById('orderList');
            orderList.innerHTML = orders.map(order => {
                const product = products.find(p => p.id === order.productId);
                return `
                    <div class="order-item">
                        <strong>Order #${order.id}</strong><br>
                        <strong>Customer:</strong> ${order.customerName}<br>
                        <strong>Product:</strong> ${order.productName}<br>
                        <strong>Quantity:</strong> ${order.quantity}<br>
                        <strong>Total:</strong> $${order.total}<br>
                        <strong>Status:</strong> <span class="${order.status === 'Pending' ? 'alert' : 'good'}">${order.status}</span><br>
                        <strong>Date:</strong> ${order.date}
                    </div>
                `;
            }).join('') || '<p>No orders yet</p>';
        }

        // DASHBOARD UPDATES
        function updateDashboard() {
            // Update stats
            document.getElementById('totalProducts').textContent = products.length;
            
            const totalValue = inventory.reduce((sum, item) => {
                const product = products.find(p => p.id === item.productId);
                return sum + (product ? product.price * item.quantity : 0);
            }, 0);
            document.getElementById('totalValue').textContent = '$' + totalValue;
            
            const lowStockCount = inventory.filter(item => item.quantity < 20).length;
            document.getElementById('lowStockCount').textContent = lowStockCount;
            
            document.getElementById('totalOrders').textContent = orders.length;
            
            // Low stock alerts
            const lowStockAlerts = document.getElementById('lowStockAlerts');
            const lowStockItems = inventory.filter(item => item.quantity < 20);
            lowStockAlerts.innerHTML = lowStockItems.map(item => {
                const product = products.find(p => p.id === item.productId);
                return product ? `
                    <div style="padding: 10px; border-bottom: 1px solid #eee;">
                        <strong>${product.name}</strong><br>
                        <span class="alert">Only ${item.quantity} units left!</span>
                    </div>
                ` : '';
            }).join('') || '<p>No low stock alerts üéâ</p>';

            // Recent orders
            const recentOrders = document.getElementById('recentOrders');
            const recentOrdersList = orders.slice(-3).reverse();
            recentOrders.innerHTML = recentOrdersList.map(order => {
                return `
                    <div style="padding: 10px; border-bottom: 1px solid #eee;">
                        <strong>${order.customerName}</strong><br>
                        <small>${order.productName} x ${order.quantity}</small><br>
                        <span class="${order.status === 'Pending' ? 'alert' : 'good'}">${order.status}</span>
                    </div>
                `;
            }).join('') || '<p>No recent orders</p>';
        }

        // INITIALIZE
        function initialize() {
            loadProducts();
            loadInventory();
            loadOrders();
            updateDashboard();
        }

        // Start the application
        initialize();
    </script>
</body>
</html>
